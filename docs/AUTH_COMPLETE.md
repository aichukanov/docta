# üîê –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ docta.me - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìã –û–±–∑–æ—Ä

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- Email + –ø–∞—Ä–æ–ª—å
- OAuth (Google, Telegram)
- Email –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏

### –ò—Ç–µ—Ä–∞—Ü–∏—è 1: –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ë–î (users, oauth_accounts, sessions)
- –ë–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

### –ò—Ç–µ—Ä–∞—Ü–∏—è 2: OAuth –∏ –ü—Ä–æ—Ñ–∏–ª—å
- `useAuth()` –∫–æ–º–ø–æ–∑–∞–±–ª
- Middleware –¥–ª—è –∑–∞—â–∏—Ç—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º OAuth
- –†–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü—Ä–∏–≤—è–∑–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (29 —Ñ–∞–π–ª–æ–≤)

### –ò—Ç–µ—Ä–∞—Ü–∏—è 3: Email –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –ø–∞—Ä–æ–ª–∏
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ –ø–æ email
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏
- –£–ª—É—á—à–µ–Ω–Ω—ã–π UI —Ñ–æ—Ä–º
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (15 —Ñ–∞–π–ª–æ–≤)

### –ò—Ç–µ—Ä–∞—Ü–∏—è 4: Email –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∏—Å—Ç–æ—Ä–∏—è
- –°–∏—Å—Ç–µ–º–∞ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—Å –∑–∞–≥–ª—É—à–∫–∞–º–∏)
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤ (IP, User Agent, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (–∏–º—è, email)
- –°–º–µ–Ω–∞ email —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (15+ —Ñ–∞–π–ª–æ–≤)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
docta.me/nuxt/
‚îú‚îÄ‚îÄ composables/
‚îÇ   ‚îî‚îÄ‚îÄ use-auth.ts                 # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–∑–∞–±–ª –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îú‚îÄ‚îÄ auth.ts                     # –ó–∞—â–∏—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ admin-auth.ts               # –ó–∞—â–∏—Ç–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ login.vue                   # –í—Ö–æ–¥ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ profile.vue                 # –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ forgot-password.vue         # –ó–∞–ø—Ä–æ—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ reset-password.vue          # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ verify-email.vue            # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email
‚îÇ   ‚îî‚îÄ‚îÄ confirm-email-change.vue    # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–º–µ–Ω—ã email
‚îÇ
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ GoogleSignInButton.vue      # –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Google
‚îÇ   ‚îî‚îÄ‚îÄ TelegramLoginButton.vue     # –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Telegram
‚îÇ
‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îú‚îÄ‚îÄ api/auth/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ register.post.ts                    # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.post.ts                       # –í—Ö–æ–¥ –ø–æ email
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ google.get.ts                       # –ò–Ω–∏—Ü–∏–∞—Ü–∏—è Google OAuth
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ callback/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ google.get.ts                   # Callback Google OAuth
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegram.get.ts                 # Callback Telegram
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ forgot-password.post.ts             # –ó–∞–ø—Ä–æ—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reset-password.post.ts              # –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ change-password.post.ts             # –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ verify-email.get.ts                 # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ resend-verification.post.ts         # –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ accounts.get.ts                     # –°–ø–∏—Å–æ–∫ OAuth –∞–∫–∫–∞—É–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ unlink/[provider].post.ts           # –û—Ç–≤—è–∑–∫–∞ OAuth
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sessions.get.ts                     # –°–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sessions/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [sessionId].delete.ts           # –ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–µ—Å—Å–∏—é
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logout-all.post.ts              # –í—ã–π—Ç–∏ –∏–∑ –≤—Å–µ—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login-history.get.ts                # –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ update-name.post.ts                 # –ò–∑–º–µ–Ω–∏—Ç—å –∏–º—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ request-email-change.post.ts        # –ó–∞–ø—Ä–æ—Å —Å–º–µ–Ω—ã email
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ confirm-email-change.get.ts         # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–º–µ–Ω—ã
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ password.ts                         # –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ password-reset.ts                   # –¢–æ–∫–µ–Ω—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email.ts                            # –û—Ç–ø—Ä–∞–≤–∫–∞ email (mock)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email-verification.ts               # –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è email
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email-change.ts                     # –°–º–µ–Ω–∞ email
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login-history.ts                    # –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ oauth.ts                            # OAuth —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ oauth-config.ts                     # OAuth –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram-auth.ts                    # Telegram –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ session.ts                          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ common/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.ts                             # –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ sql/migrations/
‚îÇ       ‚îú‚îÄ‚îÄ 001_auth_basic.sql                  # –ë–∞–∑–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã
‚îÇ       ‚îú‚îÄ‚îÄ 002_password_reset_tokens.sql       # –¢–æ–∫–µ–Ω—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ 003_email_verification.sql          # –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è email
‚îÇ       ‚îî‚îÄ‚îÄ 004_login_history.sql               # –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤
‚îÇ
‚îî‚îÄ‚îÄ docs/
    ‚îú‚îÄ‚îÄ AUTH_SYSTEM.md                          # –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
    ‚îú‚îÄ‚îÄ AUTH_UPDATE_ITERATION_2.md              # –ò—Ç–µ—Ä–∞—Ü–∏—è 2
    ‚îú‚îÄ‚îÄ AUTH_UPDATE_ITERATION_3.md              # –ò—Ç–µ—Ä–∞—Ü–∏—è 3
    ‚îú‚îÄ‚îÄ AUTH_UPDATE_ITERATION_4.md              # –ò—Ç–µ—Ä–∞—Ü–∏—è 4
    ‚îú‚îÄ‚îÄ AUTH_COMPLETE.md                        # –≠—Ç–æ—Ç —Ñ–∞–π–ª
    ‚îî‚îÄ‚îÄ TELEGRAM_OAUTH_SETUP.md                 # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã

1. **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
   - email, name, username, photo_url
   - password_hash (–¥–ª—è email auth)
   - email_verified, is_admin
   
2. **oauth_accounts** - OAuth –∞–∫–∫–∞—É–Ω—Ç—ã
   - user_id, provider, provider_account_id
   - access_token, refresh_token, expires_at

3. **sessions** - —Å–µ—Å—Å–∏–∏
   - id (UUID), user_id, expires_at

4. **password_reset_tokens** - —Ç–æ–∫–µ–Ω—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
   - user_id, token, expires_at, used

5. **email_verification_tokens** - —Ç–æ–∫–µ–Ω—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - user_id, email, token, expires_at, verified

6. **login_history** - –∏—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤
   - user_id, ip_address, user_agent, location
   - login_method, success, failure_reason

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
mysql -u root -p docta_me < server/sql/migrations/001_auth_basic.sql
mysql -u root -p docta_me < server/sql/migrations/002_password_reset_tokens.sql
mysql -u root -p docta_me < server/sql/migrations/003_email_verification.sql
mysql -u root -p docta_me < server/sql/migrations/004_login_history.sql
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env

```bash
# OAuth Google
GOOGLE_CLIENT_ID=your-client-id
GOOGLE_CLIENT_SECRET=your-secret

# OAuth Telegram
TELEGRAM_BOT_TOKEN=your-bot-token
TELEGRAM_BOT_USERNAME=your_bot_username

# Base URL
BASE_URL=http://localhost:3000
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä

```bash
npm run dev
```

### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É

```typescript
// –í –ª—é–±–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
const { 
  isAuthenticated, 
  currentUser, 
  isAdmin,
  loginWithEmail,
  loginWithGoogle,
  logout 
} = useAuth();

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
if (isAuthenticated.value) {
  console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', currentUser.value);
}

// –í—Ö–æ–¥ –ø–æ email
await loginWithEmail('user@example.com', 'password');

// –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Google
loginWithGoogle(); // –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ Google OAuth
```

### 5. –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤

```vue
<!-- –î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
<script setup>
definePageMeta({
  middleware: 'auth'
});
</script>

<!-- –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ -->
<script setup>
definePageMeta({
  middleware: 'admin-auth'
});
</script>
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤:** 60+
- **API endpoints:** 20+
- **–°—Ç—Ä–∞–Ω–∏—Ü:** 6
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 2
- **–¢–∞–±–ª–∏—Ü –ë–î:** 6
- **–ú–∏–≥—Ä–∞—Ü–∏–π:** 4
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~8000+

## ‚ú® –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å email –∏ –ø–∞—Ä–æ–ª–µ–º
- ‚úÖ –í—Ö–æ–¥ –ø–æ email –∏ –ø–∞—Ä–æ–ª—é
- ‚úÖ Google OAuth
- ‚úÖ Telegram Login Widget
- ‚úÖ Remember me (30 –¥–Ω–µ–π —Å–µ—Å—Å–∏–∏)
- ‚úÖ Logout —Å –æ—á–∏—Å—Ç–∫–æ–π cookies

### Email
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å—å–º–∞
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ email —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ HTML —à–∞–±–ª–æ–Ω—ã
- ‚úÖ Mock –¥–ª—è development

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ Bcrypt —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (10 —Ä–∞—É–Ω–¥–æ–≤)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ CSRF –∑–∞—â–∏—Ç–∞ (state parameter)
- ‚úÖ HttpOnly, Secure cookies
- ‚úÖ –¢–æ–∫–µ–Ω—ã —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤

### –ü—Ä–æ—Ñ–∏–ª—å
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω–∏
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ email
- ‚úÖ –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä–æ–ª—è –¥–ª—è OAuth
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ OAuth –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
- ‚úÖ –ü—Ä–∏–≤—è–∑–∫–∞/–æ—Ç–≤—è–∑–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

### –°–µ—Å—Å–∏–∏
- ‚úÖ –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–∑–¥–∞–Ω–∏–∏
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- ‚úÖ Logout –∏–∑ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏

### –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—Ö–æ–¥–æ–≤
- ‚úÖ IP –∞–¥—Ä–µ—Å–∞ –∏ User Agent
- ‚úÖ –ú–µ—Ç–æ–¥ –≤—Ö–æ–¥–∞ (email/google/telegram)
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –∏ –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
- ‚úÖ Timeline —Å –¥–µ—Ç–∞–ª—è–º–∏
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–µ—Ç–æ–¥–∞–º

## üé® UI/UX

- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ (mobile-first)
- Element Plus –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ö—Ä–∞—Å–∏–≤—ã–µ –¥–∏–∞–ª–æ–≥–∏ –∏ —Ñ–æ—Ä–º—ã
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –æ—à–∏–±–∫–∏
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- Emoji –∏–∫–æ–Ω–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (bcrypt)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ CSRF –∑–∞—â–∏—Ç–∞
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç enumeration
- ‚úÖ –ò—Å—Ç–µ—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ HttpOnly cookies
- ‚úÖ Secure cookies –≤ production
- ‚úÖ SameSite cookies
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—Ö–æ–¥–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å rate limiting
- –î–æ–±–∞–≤–∏—Ç—å 2FA
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –∞—É–¥–∏—Ç—ã

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞:

1. **AUTH_SYSTEM.md** - –æ–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ API
2. **AUTH_UPDATE_ITERATION_2.md** - OAuth –∏ –ø—Ä–æ—Ñ–∏–ª—å
3. **AUTH_UPDATE_ITERATION_3.md** - email auth –∏ –ø–∞—Ä–æ–ª–∏
4. **AUTH_UPDATE_ITERATION_4.md** - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∏—Å—Ç–æ—Ä–∏—è
5. **AUTH_COMPLETE.md** - —ç—Ç–æ—Ç —Ñ–∞–π–ª (–æ–±—â–∏–π –æ–±–∑–æ—Ä)

## üêõ Troubleshooting

### Email –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç
**–†–µ—à–µ–Ω–∏–µ:** –í development email –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å. –î–ª—è production –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SMTP.

### Telegram –≤–∏–¥–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ production –±–æ—Ç–∞.

### –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤ –ø—É—Å—Ç–∞
**–†–µ—à–µ–Ω–∏–µ:** –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, –∏—Å—Ç–æ—Ä–∏—è –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### –ù–µ –º–æ–≥—É –æ—Ç–≤—è–∑–∞—Ç—å OAuth
**–†–µ—à–µ–Ω–∏–µ:** –ù–µ–ª—å–∑—è –æ—Ç–≤—è–∑–∞—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –≤—Ö–æ–¥–∞. –ü—Ä–∏–≤—è–∂–∏—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –¥—Ä—É–≥–æ–π.

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

1. **–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (2FA)**
   - TOTP (Google Authenticator)
   - SMS –∫–æ–¥—ã
   - Email –∫–æ–¥—ã
   - Backup –∫–æ–¥—ã

2. **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**
   - –ì—Ä–∞—Ñ–∏–∫–∏ –≤—Ö–æ–¥–æ–≤
   - –ö–∞—Ä—Ç–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
   - –ê–Ω–∞–ª–∏–∑ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
   - –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ OAuth**
   - GitHub
   - Facebook
   - Apple Sign In
   - VK

4. **GDPR —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ**
   - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
   - –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–∏—è–º–∏

5. **Real-time —Ñ—É–Ω–∫—Ü–∏–∏**
   - WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - Push notifications
   - Live —Å—Ç–∞—Ç—É—Å –æ–Ω–ª–∞–π–Ω

### –¢—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

- Email –ø—Ä–æ–≤–∞–π–¥–µ—Ä (SendGrid, AWS SES)
- SMS –ø—Ä–æ–≤–∞–π–¥–µ—Ä (Twilio)
- –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è API (MaxMind)
- Push notifications (Firebase)

## üéâ –ò—Ç–æ–≥–∏

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- 4 –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- 60+ —Ñ–∞–π–ª–æ–≤ –∫–æ–¥–∞
- 20+ API endpoints
- 6 —Ç–∞–±–ª–∏—Ü –ë–î
- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ö–∞—á–µ—Å—Ç–≤–æ:**
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞
- ‚úÖ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ DRY, KISS, YAGNI
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:**
- ‚úÖ Development - –≥–æ—Ç–æ–≤–æ
- ‚ö†Ô∏è Production - —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP
- ‚ö†Ô∏è Production - —Ç—Ä–µ–±—É–µ—Ç HTTPS
- ‚ö†Ô∏è Production - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 2FA

---

–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è docta.me
