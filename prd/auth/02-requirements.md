# 2. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

[‚Üê –ù–∞–∑–∞–¥ –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](index.md)

---

## 2.1 –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç #1)

- FR-1: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –ø–æ email + password —á–µ—Ä–µ–∑ `/admin/login`
- FR-2: –ê–∫–∫–∞—É–Ω—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é –≤ –ë–î (–Ω–µ—Ç UI –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- FR-3: –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º bcrypt –∏–ª–∏ argon2
- FR-4: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- FR-5: –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Å–µ—Å—Å–∏—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- FR-6: Middleware –∑–∞—â–∏—â–∞–µ—Ç –≤—Å–µ —Ä–æ—É—Ç—ã `/admin/*` –æ—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- FR-7: –ü—Ä–∏ –Ω–µ—É—Å–ø–µ—à–Ω–æ–π –ø–æ–ø—ã—Ç–∫–µ –≤—Ö–æ–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ OAuth (–§–∞–∑–∞ 2)

- FR-8: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ Google OAuth
- FR-9: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ Telegram OAuth
- FR-10: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –ª—é–±–æ–π –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- FR-11: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–∏–≤—è–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∫ –æ–¥–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É
- FR-12: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- FR-13: –°–∏—Å—Ç–µ–º–∞ —Ö—Ä–∞–Ω–∏—Ç —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤ –ë–î

### UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- FR-14: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ `/admin/login` —Å –ø–æ–ª—è–º–∏ email/password
- FR-15: –í —Ö—ç–¥–µ—Ä–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–ª–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–≤–∞—Ç–∞—Ä, –∏–º—è)
- FR-16: –ö–ª–∏–∫ –ø–æ –±–ª–æ–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç dropdown –º–µ–Ω—é
- FR-17: –í dropdown –º–µ–Ω—é –µ—Å—Ç—å –æ–ø—Ü–∏–∏: "–ü—Ä–æ—Ñ–∏–ª—å", "–í—ã–π—Ç–∏"
- FR-18: –î–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏"
- FR-19: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ (–¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π) —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–Ω–æ–ø–∫–∏ –¥–ª—è OAuth (Google, Telegram)

### –°–µ—Å—Å–∏–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- FR-20: –°–µ—Å—Å–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î (—Ç–∞–±–ª–∏—Ü–∞ sessions)
- FR-21: –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ —Å–µ—Å—Å–∏—è —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –ë–î
- FR-22: –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTPOnly cookies
- FR-23: –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç CSRF –∞—Ç–∞–∫
- FR-24: –ü–∞—Ä–æ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è (bcrypt/argon2, cost factor >= 10)

### –ë–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- FR-25: –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞–¥–º–∏–Ω–∞ –≤—Ä—É—á–Ω—É—é –≤ –ë–î —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å —Å email, password_hash, is_admin=true
- FR-26: –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ OAuth —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å email, name, photo_url
- FR-27: –§–æ—Ç–æ –±–µ—Ä–µ—Ç—Å—è –∏–∑ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è OAuth –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- FR-28: Email –±–µ—Ä–µ—Ç—Å—è –∏–∑ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–∏–ª–∏ –≤–≤–æ–¥–∏—Ç—Å—è –≤—Ä—É—á–Ω—É—é –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
- FR-29: –ò–º—è –±–µ—Ä–µ—Ç—Å—è –∏–∑ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–∏–ª–∏ –≤–≤–æ–¥–∏—Ç—Å—è –≤—Ä—É—á–Ω—É—é –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

## 2.2 –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- NFR-1: **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** HTTPOnly cookies, CSRF –∑–∞—â–∏—Ç–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤, –Ω–∞–¥–µ–∂–Ω–æ–µ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- NFR-2: **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è < 500ms
- NFR-3: **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:** OAuth fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- NFR-4: **UX:** –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ OAuth (‚â§ 2 –∫–ª–∏–∫–∞), –ø—Ä–æ—Å—Ç–∞—è —Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- NFR-5: **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- NFR-6: **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ë–î-based —Å–µ—Å—Å–∏–∏ –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- NFR-7: **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª–µ–π:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è 8 —Å–∏–º–≤–æ–ª–æ–≤ (–¥–ª—è –±—É–¥—É—â–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–æ–≤ —á–µ—Ä–µ–∑ UI)

## 2.3 Scope

### ‚úÖ –í–∫–ª—é—á–µ–Ω–æ

**–§–∞–∑–∞ 1: –ê–¥–º–∏–Ω–∫–∞ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç)**
- Email + password –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ `/admin/login`
- Middleware –¥–ª—è –∑–∞—â–∏—Ç—ã –∞–¥–º–∏–Ω—Å–∫–∏—Ö —Ä–æ—É—Ç–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –≤—Ä—É—á–Ω—É—é –≤ –ë–î

**–§–∞–∑–∞ 2: OAuth –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
- OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Google, Telegram)
- –ë–î –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–µ—Å—Å–∏–π
- –ë–ª–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ö—ç–¥–µ—Ä–µ
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞
- –ë–∞–∑–æ–≤—ã–π middleware –¥–ª—è –∑–∞—â–∏—Ç—ã —Ä–æ—É—Ç–æ–≤
- –ü—Ä–∏–≤—è–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö OAuth –∫ –æ–¥–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É

### ‚ùå –ù–ï –≤–∫–ª—é—á–µ–Ω–æ (–±—É–¥–µ—Ç –≤ –¥—Ä—É–≥–∏—Ö PRD)

- –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí **user-profile**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ OAuth –ø—Ä–∏–≤—è–∑–∫–∞–º–∏ –≤ UI ‚Üí **user-profile**
- –°–º–µ–Ω–∞ email, –ø–∞—Ä–æ–ª—è ‚Üí **user-profile**
- –ü—Ä–æ—Ñ–∏–ª—å –≤—Ä–∞—á–∞ ‚Üí **doctor-profile**
- –ü—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–Ω–∏–∫–∏ ‚Üí **clinic-profile**
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –∏ —Ä–æ–ª–µ–π (–¥–µ—Ç–∞–ª–∏) ‚Üí **permissions**
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–ª–∏–Ω–∏–∫ ‚Üí **clinic-verification**
- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å ‚Üí **admin-panel**

### üîÆ –ë—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–∑–∂–µ (–≤ —ç—Ç–æ—Ç –∂–µ PRD)

- UI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–¥–º–∏–Ω–æ–≤ (–≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏)
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –ø–æ email –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- –î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (2FA) –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ OAuth

---

**–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å–µ–∫—Ü–∏—è:** [‚Üê 1. –û–±–∑–æ—Ä](01-overview.md)  
**–°–ª–µ–¥—É—é—â–∞—è —Å–µ–∫—Ü–∏—è:** [3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Üí](03-architecture.md)
