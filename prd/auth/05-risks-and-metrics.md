# 5. Риски и метрики

[← Назад к оглавлению](index.md)

---

## Риски и митигация

| Риск                                                                | Вероятность | Влияние | Митигация                                                          |
| ------------------------------------------------------------------- | ----------- | ------- | ------------------------------------------------------------------ |
| OAuth провайдер недоступен                                          | Низкая      | Высокое | Поддержка нескольких провайдеров, fallback UI                      |
| Проблемы с миграцией БД                                             | Средняя     | Высокое | Тестирование на копии БД, rollback скрипты                         |
| Сложность интеграции Telegram OAuth                                 | Средняя     | Среднее | Начать с Google, Telegram добавить позже, хорошая документация     |
| Проблемы с производительностью при большом количестве пользователей | Низкая      | Среднее | Индексы на FK, оптимизация запросов, кэширование сессий            |
| Безопасность: XSS, CSRF                                             | Средняя     | Высокое | Использовать встроенную защиту Nuxt, санитизация, HTTPOnly cookies |
| Сложность управления ролями                                         | Средняя     | Среднее | Четкая документация, тестирование всех сценариев                   |

## Метрики успеха

### Производительность

- **Регистрация:** > 80% пользователей проходят регистрацию за < 30 секунд
- **Авторизация:** < 500ms время авторизации через OAuth
- **Доступность:** 99.9% uptime для OAuth endpoints

### Конверсия

- **Активация:** > 70% зарегистрированных пользователей создают профиль врача или клинику
- **Верификация:** > 50% клиник верифицируются через OAuth контакты
- **Модерация:** < 24 часа среднее время верификации клиник

### Безопасность

- **Уязвимости:** 0 критичных уязвимостей в security audit
- **Сессии:** 0 инцидентов с утечкой сессий
- **Аудит:** 100% критичных операций залогировано

## Вопросы для уточнения

- [ ] Какой OAuth провайдер приоритетнее: Google или Telegram?
- [ ] Нужна ли email верификация при регистрации?
- [ ] Должны ли пользователи получать email уведомления об одобрении запросов?
- [ ] Какие данные из OAuth профиля считаются обязательными (email может отсутствовать в Telegram)?
- [ ] Нужна ли возможность смены роли пользователя (editor -> admin)?
- [ ] Должен ли быть лимит на количество клиник, которые может создать один пользователь?
- [ ] Нужна ли возможность передачи владения клиникой другому пользователю?
- [ ] Должна ли верификация через OAuth быть обязательной для всех клиник или опциональной?
- [ ] Нужно ли поддерживать верификацию через несколько контактов одновременно (email + телефон)?
- [ ] Как обрабатывать случай, когда у клиники несколько email адресов (admin@, info@, contact@)?
- [ ] Нужна ли возможность отозвать верификацию контакта?
- [ ] Должны ли клиники с верифицированным контактом иметь особый бадж/значок?

---

**Предыдущая секция:** [← 4. База данных](04-database.md)
