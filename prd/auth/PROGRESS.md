# –ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: –ë–∞–∑–æ–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**PRD:** [–ë–∞–∑–æ–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è](index.md)  
**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** 2026-01-30  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** -  
**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** üü° In Progress

---

## –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å

```
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë 80% (4/5 –∏—Ç–µ—Ä–∞—Ü–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ)
```

**–ó–∞–≤–µ—Ä—à–µ–Ω–æ:** 4 –∏–∑ 5 –∏—Ç–µ—Ä–∞—Ü–∏–π  
**–í —Ä–∞–±–æ—Ç–µ:** 0 –∏—Ç–µ—Ä–∞—Ü–∏–π  
**–ù–µ –Ω–∞—á–∞—Ç–æ:** 1 –∏—Ç–µ—Ä–∞—Ü–∏—è

---

## –°—Ç–∞—Ç—É—Å –∏—Ç–µ—Ä–∞—Ü–∏–π

| #   | –ù–∞–∑–≤–∞–Ω–∏–µ                                                                      | –°—Ç–∞—Ç—É—Å         | –ù–∞—á–∞—Ç–æ     | –ó–∞–≤–µ—Ä—à–µ–Ω–æ  | –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ | –ê–ø–ø—Ä—É–≤ |
| --- | ----------------------------------------------------------------------------- | -------------- | ---------- | ---------- | --------- | ------ |
| 1   | [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](iterations/iteration-01-database.md)                            | üü¢ Completed   | 2026-01-30 | 2026-01-30 | -         | -      |
| 2   | [Email/Password –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–æ–≤](iterations/iteration-02-admin-auth.md) | üü¢ Completed   | 2026-01-30 | 2026-01-30 | -         | -      |
| 3   | [OAuth —á–µ—Ä–µ–∑ Google](iterations/iteration-03-oauth-google.md)                 | üü¢ Completed   | 2026-01-30 | 2026-01-30 | -         | -      |
| 4   | [OAuth —á–µ—Ä–µ–∑ Telegram](iterations/iteration-04-oauth-telegram.md)             | üü¢ Completed   | 2026-01-30 | 2026-01-30 | -         | -      |
| 5   | [UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](iterations/iteration-05-ui-components.md)                     | üî¥ Not Started | -          | -          | -         | -      |

### –õ–µ–≥–µ–Ω–¥–∞ —Å—Ç–∞—Ç—É—Å–æ–≤

- üî¥ **Not Started** - —Ä–∞–±–æ—Ç–∞ –Ω–µ –Ω–∞—á–∞—Ç–∞
- üü° **In Progress** - –∏—Ç–µ—Ä–∞—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- üü¢ **Completed** - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- ‚úÖ **Approved** - –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏ –æ–¥–æ–±—Ä–µ–Ω–∞

---

## –¢–µ–∫—É—â–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è

**–ò—Ç–µ—Ä–∞—Ü–∏—è 4: OAuth —á–µ—Ä–µ–∑ Telegram** - üü¢ Completed (2026-01-30)

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω Telegram –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é OAuth
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ Telegram –¥–∞–Ω–Ω—ã—Ö (`server/utils/telegram-auth.ts`)
- ‚úÖ –°–æ–∑–¥–∞–Ω callback endpoint (`/api/auth/callback/telegram`)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ HMAC-SHA256 –ø–æ–¥–ø–∏—Å–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–∏–≤—è–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∫ –æ–¥–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É
- ‚úÖ –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç TelegramLoginButton
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/login` —Å Telegram –∫–Ω–æ–ø–∫–æ–π
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram Bot
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `.env.example`

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. ‚è≥ –°–æ–∑–¥–∞—Ç—å Telegram Bot —á–µ—Ä–µ–∑ @BotFather
2. ‚è≥ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º–µ–Ω –¥–ª—è Login Widget
3. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`
4. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å OAuth flow
5. ‚è≥ –ù–∞—á–∞—Ç—å –ò—Ç–µ—Ä–∞—Ü–∏—é 5: UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## –ë–ª–æ–∫–µ—Ä—ã –∏ –ø—Ä–æ–±–ª–µ–º—ã

_–ù–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö –±–ª–æ–∫–µ—Ä–æ–≤_

| –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
| -------- | --------- | ------ | ---- | -------- |
| -        | -         | -      | -    | -        |

---

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

| –î–∞—Ç–∞       | –ò—Ç–µ—Ä–∞—Ü–∏—è | –ò–∑–º–µ–Ω–µ–Ω–∏–µ                                                                         | –ê–≤—Ç–æ—Ä        |
| ---------- | -------- | --------------------------------------------------------------------------------- | ------------ |
| 2026-01-30 | 4        | ‚úÖ –ò—Ç–µ—Ä–∞—Ü–∏—è 4 –∑–∞–≤–µ—Ä—à–µ–Ω–∞: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω OAuth —á–µ—Ä–µ–∑ Telegram                          | AI Agent     |
| 2026-01-30 | 3        | ‚úÖ –ò—Ç–µ—Ä–∞—Ü–∏—è 3 –∑–∞–≤–µ—Ä—à–µ–Ω–∞: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω OAuth —á–µ—Ä–µ–∑ Google                            | AI Agent     |
| 2026-01-30 | 2        | ‚úÖ –ò—Ç–µ—Ä–∞—Ü–∏—è 2 –∑–∞–≤–µ—Ä—à–µ–Ω–∞: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–æ–≤                      | AI Agent     |
| 2026-01-30 | 1        | ‚úÖ –ò—Ç–µ—Ä–∞—Ü–∏—è 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞: –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏                      | AI Agent     |
| 2026-01-30 | -        | –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: Email/Password –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ (–Ω–æ–≤–∞—è –ò—Ç–µ—Ä–∞—Ü–∏—è 2)    | Product Team |
| 2026-01-29 | -        | PRD —É–ø—Ä–æ—â–µ–Ω –¥–æ –±–∞–∑–æ–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (4 –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ 10)                        | Product Team |

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ ~~–ù–∞—á–∞—Ç—å –ò—Ç–µ—Ä–∞—Ü–∏—é 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –º–∏–≥—Ä–∞—Ü–∏–∏~~
2. ‚úÖ ~~–°–æ–∑–¥–∞—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü: users (—Å –ø–æ–ª—è–º–∏ password_hash, is_admin), oauth_accounts, sessions~~
3. ‚úÖ ~~–û–±–Ω–æ–≤–∏—Ç—å DATABASE_SCHEMA.md~~
4. ‚è≥ **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ –ë–î:** `mysql -u user -p database < server/sql/migrations/001_auth_basic.sql`
5. ‚è≥ **–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:** `mysql -u user -p database < server/sql/seeds/001_auth_test_data.sql`
6. ‚è≥ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏—é 1** (—Å–º. –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ –Ω–∏–∂–µ)
7. ‚è≥ –ü–æ–ª—É—á–∏—Ç—å –∞–ø–ø—Ä—É–≤ –¥–ª—è –ò—Ç–µ—Ä–∞—Ü–∏–∏ 1
8. ‚è≥ –ù–∞—á–∞—Ç—å –ò—Ç–µ—Ä–∞—Ü–∏—é 2: Email/Password –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ –¥–ª—è –ò—Ç–µ—Ä–∞—Ü–∏–∏ 1 (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–¥ –∞–ø–ø—Ä—É–≤–æ–º):

```sql
-- AC-1: –¢–∞–±–ª–∏—Ü–∞ users —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
DESCRIBE users;
-- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª—è: id, email, name, photo_url, password_hash, is_admin, created_at, updated_at

-- AC-2: –¢–∞–±–ª–∏—Ü–∞ oauth_accounts —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
DESCRIBE oauth_accounts;
-- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª—è: id, user_id, provider, provider_account_id, access_token, refresh_token, expires_at

-- AC-3: –¢–∞–±–ª–∏—Ü–∞ sessions —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
DESCRIBE sessions;
-- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª—è: id, user_id, expires_at, created_at

-- AC-4: –ò–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
SHOW INDEX FROM users;
-- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–Ω–¥–µ–∫—Å—ã: PRIMARY (id), idx_email (email), idx_is_admin (is_admin)

-- AC-5: Foreign keys –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
SELECT 
    TABLE_NAME, COLUMN_NAME, CONSTRAINT_NAME, REFERENCED_TABLE_NAME, REFERENCED_COLUMN_NAME
FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
WHERE REFERENCED_TABLE_NAME IN ('users')
ORDER BY TABLE_NAME;
-- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å FK: oauth_accounts.user_id -> users.id, sessions.user_id -> users.id

-- AC-6: –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–ª–∏ seeds)
SELECT email, name, is_admin FROM users;
-- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å: admin@docta.me (is_admin=1), user@example.com (is_admin=0)

-- AC-7: DATABASE_SCHEMA.md –æ–±–Ω–æ–≤–ª–µ–Ω
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä—É—á–Ω—É—é: –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø–∏—Å–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã users, oauth_accounts, sessions
```

---

## –ú–µ—Ç—Ä–∏–∫–∏

### –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- **–°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏–∏:** - (–±—É–¥–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è 2+ –∏—Ç–µ—Ä–∞—Ü–∏–π)
- **–ü—Ä–æ–≥–Ω–æ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** ~1-2 –Ω–µ–¥–µ–ª–∏ (–ø—Ä–∏ –ø–æ–ª–Ω–æ–π –∑–∞–Ω—è—Ç–æ—Å—Ç–∏)

### –ö–∞—á–µ—Å—Ç–≤–æ

- **–ö—Ä–∏—Ç–µ—Ä–∏–µ–≤ –ø—Ä–∏–µ–º–∫–∏:** ~40 (–≤—Å–µ–≥–æ –ø–æ –≤—Å–µ–º –∏—Ç–µ—Ä–∞—Ü–∏—è–º)
- **–ü—Ä–æ–π–¥–µ–Ω–æ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤:** 0
- **–ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 0%

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ PRD

–≠—Ç–æ—Ç PRD —è–≤–ª—è–µ—Ç—Å—è –±–∞–∑–æ–π –¥–ª—è:

- **user-profile** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **doctor-profile** - –ø—Ä–æ—Ñ–∏–ª—å –≤—Ä–∞—á–∞
- **clinic-profile** - –ø—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–Ω–∏–∫–∏
- **permissions** - —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –∏ —Ä–æ–ª–µ–π

---

## –ö–∞–∫ –æ–±–Ω–æ–≤–ª—è—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª

### –ü—Ä–∏ –Ω–∞—á–∞–ª–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏:

1. –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –Ω–∞ üü° In Progress
2. –£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞
3. –û–±–Ω–æ–≤–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–¢–µ–∫—É—â–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è"

### –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏—Ç–µ—Ä–∞—Ü–∏–∏:

1. –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –Ω–∞ üü¢ Completed
2. –£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
3. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å—å –≤ "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è"

### –ü–æ—Å–ª–µ –∞–ø–ø—Ä—É–≤–∞:

1. –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –Ω–∞ ‚úÖ Approved
2. –£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –∞–ø–ø—Ä—É–≤–∞
3. –û–±–Ω–æ–≤–∏—Ç–µ –æ–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
4. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

### –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å—å –≤ "–ë–ª–æ–∫–µ—Ä—ã –∏ –ø—Ä–æ–±–ª–µ–º—ã"
2. –£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
3. –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å –ø–æ –º–µ—Ä–µ —Ä–µ—à–µ–Ω–∏—è

---

**–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É:** [–ò—Ç–µ—Ä–∞—Ü–∏—è 1 ‚Üí](iterations/iteration-01-database.md)
