# Итерация 4: UI компоненты авторизации и middleware

[← К списку итераций](README.md) | [← Предыдущая](iteration-03-oauth-telegram.md) | [Следующая →](iteration-05-user-profile.md)

---

## Цель

Создать UI для входа/выхода и middleware для защиты роутов.

## Зависимости

Итерации 2-3 (OAuth провайдеры работают)

## Задачи

1. Создать компонент LoginModal с кнопками OAuth
2. Создать компонент UserMenu для отображения пользователя
3. Создать middleware для защищенных страниц
4. Интегрировать компоненты в layout

## Ключевые компоненты

- `components/auth/LoginModal.vue` - модальное окно входа
- `components/auth/UserMenu.vue` - меню пользователя (аватар, dropdown)
- `middleware/auth.ts` - защита страниц (требует авторизации)
- `middleware/admin.ts` - доступ только для суперадминов
- `layouts/default.vue` - обновление layout с компонентами авторизации

## Критерии приемки

- [ ] AC-1: Кнопка "Войти" открывает модальное окно с OAuth провайдерами
- [ ] AC-2: После успешного входа показывается UserMenu с аватаром
- [ ] AC-3: Клик по аватару открывает dropdown с опциями
- [ ] AC-4: "Выйти" корректно завершает сессию
- [ ] AC-5: Middleware auth защищает приватные страницы
- [ ] AC-6: Middleware admin пускает только суперадминов на /admin
- [ ] AC-7: При попытке доступа к защищенной странице происходит редирект на login
- [ ] AC-8: UI адаптивен на мобильных устройствах

## Статус

**Not Started**

---

**Следующая итерация:** [5. Профиль пользователя →](iteration-05-user-profile.md)
