# Итерация 5: Профиль пользователя и связь с врачом

[← К списку итераций](README.md) | [← Предыдущая](iteration-04-ui-components.md) | [Следующая →](iteration-06-clinic-crud.md)

---

## Цель

Создать страницу профиля пользователя с возможностью редактирования и добавления себя как врача.

## Зависимости

Итерация 4 (UI компоненты и auth готовы)

## Задачи

1. Создать API endpoints для работы с профилем
2. Создать страницу профиля пользователя
3. Создать форму редактирования профиля
4. Создать форму создания профиля врача
5. Реализовать связь user <-> doctor

## Ключевые API Endpoints

- `GET /api/user/profile` - получить профиль текущего пользователя
- `PUT /api/user/profile` - обновить профиль
- `POST /api/user/become-doctor` - создать профиль врача для пользователя

## Ключевые компоненты

- `pages/profile/index.vue` - страница профиля
- `components/user/ProfileForm.vue` - форма редактирования профиля
- `components/user/DoctorForm.vue` - форма создания врача

## Критерии приемки

- [ ] AC-1: Страница /profile доступна только авторизованным пользователям
- [ ] AC-2: Пользователь видит и может редактировать свои данные (имя, фото)
- [ ] AC-3: Если пользователь не врач, показывается кнопка "Создать профиль врача"
- [ ] AC-4: Форма создания врача содержит все необходимые поля
- [ ] AC-5: После создания профиля врача создается запись в doctors и связь user.doctor_id
- [ ] AC-6: Специальности и языки корректно сохраняются в связующих таблицах
- [ ] AC-7: После создания профиля врача кнопка меняется на "Редактировать профиль врача"
- [ ] AC-8: Валидация полей работает корректно

## Статус

**Not Started**

---

**Следующая итерация:** [6. CRUD клиник →](iteration-06-clinic-crud.md)
