# –ò—Ç–µ—Ä–∞—Ü–∏—è 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞

[‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è](iteration-03-public-display.md) | [–ö —Å–ø–∏—Å–∫—É –∏—Ç–µ—Ä–∞—Ü–∏–π](README.md)

---

## –°—Ç–∞—Ç—É—Å: üî¥ Not Started

---

## –¶–µ–ª—å

–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ —Ñ–∏–Ω–∞–ª—å–Ω—É—é –ø–æ–ª–∏—Ä–æ–≤–∫—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º:**

- ‚úÖ **–ò—Ç–µ—Ä–∞—Ü–∏–∏ 1-3** - –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

**–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã:**

- –ù–µ—Ç

---

## –ó–∞–¥–∞—á–∏

### 1. Unit-—Ç–µ—Å—Ç—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç

**–§–∞–π–ª:** `tests/unit/utils/clinic-working-hours.test.ts`

–¢–µ—Å—Ç—ã –¥–ª—è:

- `calculateStatus()` - –≤—Å–µ —Ç–∏–ø—ã –¥–Ω–µ–π –∏ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
- `timeToMinutes()` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏
- `getDayOfWeek()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–Ω—è –Ω–µ–¥–µ–ª–∏
- `formatIntervals()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

### 2. E2E —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–∞

**–§–∞–π–ª:** `tests/e2e/clinic-working-hours-editor.spec.ts`

–¢–µ—Å—Ç—ã:

- –û—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–∞
- –í—ã–±–æ—Ä —Ç–∏–ø–∞ –¥–Ω—è
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã–µ
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ 24/7
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è (–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- –û—Ç–º–µ–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 3. E2E —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞

**–§–∞–π–ª:** `tests/e2e/clinic-working-hours-display.spec.ts`

–¢–µ—Å—Ç—ã:

- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –°—Ç–∞—Ç—É—Å "–û—Ç–∫—Ä—ã—Ç–æ/–ó–∞–∫—Ä—ã—Ç–æ" (–º–æ–∫–∏ –≤—Ä–µ–º–µ–Ω–∏)
- –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–Ω–µ–π
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

### 4. –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ `PUT /api/clinics/[id]/working-hours`:

- –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –£–ª—É—á—à–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤ UI
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Å–µ—Ç–∏ (retry, fallback)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 6. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞

- –ü—Ä–æ–≤–µ—Ä–∫–∞ accessibility (WCAG 2.1 Level AA)
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, README)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ DATABASE_SCHEMA.md

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

- [ ] **AC-1:** Unit-—Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç (coverage > 80%)
- [ ] **AC-2:** E2E —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] **AC-3:** E2E —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] **AC-4:** –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] **AC-5:** –í—Å–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- [ ] **AC-6:** Accessibility –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç WCAG 2.1 Level AA
- [ ] **AC-7:** –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö NFR (API < 100ms)
- [ ] **AC-8:** –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –ø—Ä–æ–µ–∫—Ç–∞ (DRY, KISS, YAGNI)
- [ ] **AC-9:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (DATABASE_SCHEMA.md)
- [ ] **AC-10:** –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –±–∞–≥–æ–≤

---

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### 1. –ó–∞–ø—É—Å–∫ unit-—Ç–µ—Å—Ç–æ–≤

```bash
npm run test:unit
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –∏ coverage > 80%.

### 2. –ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤

```bash
npm run test:e2e
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç.

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ API –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏:

```bash
# –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏
curl -X PUT http://localhost:3000/api/clinics/1/working-hours \
  -H "Content-Type: application/json" \
  -d '{"monday": {"type": "regular", "intervals": [{"start": "25:00", "end": "20:00"}]}}'

# –û–∂–∏–¥–∞–µ—Ç—Å—è: 400 Bad Request —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ UI

1. –û—Ç–∫–ª—é—á–∏—Ç—å —Å–µ—Ç—å
2. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
4. –í–∫–ª—é—á–∏—Ç—å —Å–µ—Ç—å
5. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞ ‚Üí –¥–æ–ª–∂–Ω–æ —Å—Ä–∞–±–æ—Ç–∞—Ç—å

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ accessibility

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å screen reader (NVDA, JAWS)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (Tab, Enter, Esc)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å (WCAG AA)
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Lighthouse / axe DevTools

### 6. –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**

1. –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–Ω–∏–∫—É
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
4. –û—Ç–∫—Ä—ã—Ç—å –ø—É–±–ª–∏—á–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–ª–∏–Ω–∏–∫–∏
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å "–û—Ç–∫—Ä—ã—Ç–æ/–ó–∞–∫—Ä—ã—Ç–æ"
7. –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
8. –ò–∑–º–µ–Ω–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫
9. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
10. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–Ω–µ–π:**

- Regular (—Å 1, 2, 3 –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏)
- 24/7
- Closed
- On demand
- Not specified

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤:**

- –ì—Ä–∞—Ñ–∏–∫ —Å –ø–µ—Ä–µ—Ä—ã–≤–æ–º –Ω–∞ –æ–±–µ–¥
- –ö–ª–∏–Ω–∏–∫–∞, —Ä–∞–±–æ—Ç–∞—é—â–∞—è —Ç–æ–ª—å–∫–æ 1 —á–∞—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10:00-11:00)
- –ö–ª–∏–Ω–∏–∫–∞ —Å —Ä–∞–∑–Ω—ã–º –≥—Ä–∞—Ñ–∏–∫–æ–º –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

---

## –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

- [ ] –í—Å–µ unit-—Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –í—Å–µ E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Accessibility —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç WCAG 2.1 Level AA
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö NFR
- [ ] –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ö–æ–¥ review –ø—Ä–æ–π–¥–µ–Ω
- [ ] QA —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ
- [ ] –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é –≤ production

---

**–ü—Ä–µ–¥—ã–¥—É—â–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è:** [‚Üê –ò—Ç–µ—Ä–∞—Ü–∏—è 3: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ](iteration-03-public-display.md)  
**–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –∏—Ç–µ—Ä–∞—Ü–∏–π:** [‚Üê README](README.md)
