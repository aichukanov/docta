# 2. Требования

[← Назад к оглавлению](index.md)

---

## 2.1 Функциональные требования

### FR-1: Установка и конфигурация

- Установить Playwright и необходимые зависимости
- Настроить конфигурацию для двух окружений: localhost:3000 и https://docta.me
- Создать вспомогательные утилиты для тестов

### FR-2: Тесты главной страницы

- Проверка загрузки главной страницы
- Проверка наличия основных элементов (заголовки, ссылки)

### FR-3: Тесты хедера

- Проверка всех ссылок навигации (Клиники, Врачи, Услуги, Лекарства, Статьи)
- Проверка переключения языка (SR/EN)
- Проверка корректности URL после переключения языка

### FR-4: Тесты футера

- Проверка всех ссылок в футере
- Проверка корректности переходов

### FR-5: Тесты страниц списков

Проверка загрузки страниц списков для всех типов сущностей:

- `/clinics` - список клиник
- `/doctors` - список врачей
- `/services` - список услуг
- `/medicines` - список лекарств
- `/articles` - список статей

Для каждого списка:

- Проверка отображения элементов списка
- Проверка пагинации (переход между страницами)

### FR-6: Тесты детальных страниц

- Проверка перехода на детальную страницу из списка для всех типов сущностей
- Проверка загрузки детальной страницы по прямому URL
- Проверка отображения основного контента

### FR-7: Тесты кнопки "К поиску"

- На всех детальных страницах проверить наличие и работу кнопки возврата к списку

### FR-8: Утилиты для запуска команд

- Строгое разделение: тесты (`tests/e2e/`) vs утилиты (`tests/utilities/`)
- Утилиты используют Playwright API, но НЕ являются тестами функционала
- Утилиты запускаются по требованию вручную для выполнения команд
- Примеры: генерация AI Summary, массовое обновление данных, миграции

---

## 2.2 Нефункциональные требования

### NFR-1: Производительность

- Тесты должны выполняться быстро (полный прогон < 5 минут)
- Параллельное выполнение тестов где возможно
- Оптимизированные ожидания (без излишних таймаутов)

### NFR-2: Надежность

- Тесты должны быть стабильными и не флакать
- Использовать правильные селекторы (data-testid приоритетно)
- Правильные ожидания (wait for network idle, элементы и т.д.)
- Retry механизм для нестабильных сценариев

### NFR-3: Поддерживаемость

- Код тестов должен быть чистым и следовать принципам DRY, KISS, YAGNI
- Использовать Page Object Model для переиспользования
- Четкая структура папок и файлов
- Понятные названия тестов и методов

### NFR-4: Отчетность

- HTML отчеты после выполнения тестов
- Скриншоты при падении тестов
- Видео записи для отладки (опционально)
- Понятные сообщения об ошибках

---

## 2.3 Scope (что включено / что НЕ включено)

### ✅ Включено

- Установка и настройка Playwright
- Базовая конфигурация для двух окружений
- Тесты всех основных страниц (главная, списки, детальные)
- Тесты навигации (хедер, футер)
- Тесты пагинации
- Тесты переключения языка
- Тесты кнопки "К поиску"
- Базовые утилиты и helpers
- Page Object Model
- HTML отчеты
- **Строгое разделение: тесты (`tests/e2e/`) vs утилиты (`tests/utilities/`)**

### ❌ НЕ включено (out of scope)

- Тесты авторизации и аутентификации (будет после реализации auth)
- Тесты форм поиска и фильтров (детальная проверка фильтрации)
- Тесты админ-панели (будет после реализации)
- Тесты API напрямую (только через UI)
- Тесты производительности и нагрузки
- Интеграция с CI/CD (может быть добавлена позже)
- Визуальное регрессионное тестирование (screenshot comparison)
- Тестирование мобильной версии (может быть добавлено позже)
- Тесты доступности (a11y testing)

---

**Предыдущий раздел:** [← 1. Обзор](01-overview.md)  
**Следующий раздел:** [3. Архитектура →](03-architecture.md)
