# PRD: –ú–∏–≥—Ä–∞—Ü–∏—è —Å runtimeConfig –Ω–∞ dotenv

**–°—Ç–∞—Ç—É—Å:** Draft  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1 (–≤—ã—Å–æ–∫–∏–π)

---

## –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç—É

### üìä –°—Ç–∞—Ç—É—Å –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

- **[üìà PROGRESS.md](PROGRESS.md)** - –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Å—Ç–∞—Ç—É—Å –∏—Ç–µ—Ä–∞—Ü–∏–π, –±–ª–æ–∫–µ—Ä—ã

### üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **[1. –û–±–∑–æ—Ä](01-overview.md)** - –¶–µ–ª—å, –∫–æ–Ω—Ç–µ–∫—Å—Ç, –ø—Ä–æ–±–ª–µ–º–∞, —Ä–µ—à–µ–Ω–∏–µ
- **[2. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](02-requirements.md)** - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏ –Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **[3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](03-architecture.md)** - –ü–æ–¥—Ö–æ–¥, –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- **[4. –†–∏—Å–∫–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏](04-risks-and-metrics.md)** - –†–∏—Å–∫–∏, –º–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### üîÑ –ò—Ç–µ—Ä–∞—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- **[–ò—Ç–µ—Ä–∞—Ü–∏—è 1: –ê—É–¥–∏—Ç –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞](iterations/iteration-01-audit.md)** - –ê—É–¥–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è runtimeConfig, —Å–æ–∑–¥–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç
- **[–ò—Ç–µ—Ä–∞—Ü–∏—è 2: –ú–∏–≥—Ä–∞—Ü–∏—è server-side –∫–æ–¥–∞](iterations/iteration-02-server-migration.md)** - –ú–∏–≥—Ä–∞—Ü–∏—è API endpoints –∏ server utils
- **[–ò—Ç–µ—Ä–∞—Ü–∏—è 3: –ú–∏–≥—Ä–∞—Ü–∏—è client-side –∫–æ–¥–∞](iterations/iteration-03-client-migration.md)** - –ú–∏–≥—Ä–∞—Ü–∏—è composables –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **[–ò—Ç–µ—Ä–∞—Ü–∏—è 4: –û—á–∏—Å—Ç–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](iterations/iteration-04-cleanup.md)** - –£–¥–∞–ª–µ–Ω–∏–µ runtimeConfig, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `runtimeConfig` –≤ Nuxt 3 –Ω–∞ –ø—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `process.env` —Å dotenv –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤–æ –≤—Å–µ—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** üî¥ Not Started (0/4 –∏—Ç–µ—Ä–∞—Ü–∏–π) - [–°–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å ‚Üí](PROGRESS.md)

### –ü—Ä–æ–±–ª–µ–º–∞

–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `runtimeConfig` –∏–∑ Nuxt 3 –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```52:63:nuxt.config.ts
	runtimeConfig: {
		public: {
			mixpanelToken: process.env.MIXPANEL_TOKEN,
			cloudflareToken: process.env.CLOUDFLARE_TOKEN,
			telegramBotUsername: process.env.TELEGRAM_BOT_USERNAME,
			connection: {
				host: process.env.DB_HOST,
				user: process.env.DB_USER,
				password: process.env.DB_PASSWORD,
			},
		},
	},
```

**–ü—Ä–æ–±–ª–µ–º—ã:**

1. **–ù–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏–±–æ `runtimeConfig`, –ª–∏–±–æ `process.env`
2. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** - `useRuntimeConfig()` –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–µ –≤–µ–∑–¥–µ (—Ç–æ–ª—å–∫–æ –≤ Nuxt context)
3. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –≤ `nuxt.config.ts`
4. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π** - –Ω–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏—Å—Ç–∏–Ω—ã –¥–ª—è —Ç–∏–ø–æ–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
5. **–ü—É—Ç–∞–Ω–∏—Ü–∞** - –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å runtimeConfig, –∞ –∫–æ–≥–¥–∞ process.env

### –†–µ—à–µ–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `process.env` –Ω–∞–ø—Ä—è–º—É—é –≤–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–µ —Å –ø–æ–º–æ—â—å—é dotenv:

- ‚úÖ **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ** - –æ–¥–∏–Ω —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –≤–µ–∑–¥–µ
- ‚úÖ **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ, –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ Nuxt context
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø
- ‚úÖ **–¢–∏–ø–∏–∑–∞—Ü–∏—è** - –æ–¥–Ω–æ –º–µ—Å—Ç–æ –¥–ª—è —Ç–∏–ø–æ–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ Node.js

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ `process.env` –≤–æ –≤—Å–µ–º –∫–æ–¥–µ  
‚úÖ –¢–∏–ø–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è  
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ  
‚úÖ –ï–¥–∏–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å env  
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö 5 —Ñ–∞–π–ª–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö `useRuntimeConfig`  
‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–∏ `runtimeConfig` –∏–∑ `nuxt.config.ts`  
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –û–±—ä–µ–º —Ä–∞–±–æ—Ç—ã

- **–ê—É–¥–∏—Ç:** 5 —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `useRuntimeConfig`
- **–ú–∏–≥—Ä–∞—Ü–∏—è:** server-side (3 —Ñ–∞–π–ª–∞) –∏ client-side (2 —Ñ–∞–π–ª–∞)
- **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:** —É–¥–∞–ª–µ–Ω–∏–µ runtimeConfig –∏–∑ nuxt.config.ts
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ docs –∏ README

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å [PROGRESS.md](PROGRESS.md) –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
2. –ù–∞—á–∞—Ç—å —Å [–ò—Ç–µ—Ä–∞—Ü–∏–∏ 1: –ê—É–¥–∏—Ç –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞](iterations/iteration-01-audit.md)
