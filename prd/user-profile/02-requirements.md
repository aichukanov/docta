# 2. Требования

[← Назад к оглавлению](index.md)

---

## 2.1 Функциональные требования

### Страница профиля

- FR-1: Пользователь может открыть свой профиль по ссылке `/profile`
- FR-2: На странице отображается: имя, email, фото (из OAuth)
- FR-3: Пользователь может отредактировать имя
- FR-4: Email нельзя редактировать (только из OAuth на данном этапе)
- FR-5: Фото берется из привязанного OAuth аккаунта

### Управление OAuth привязками

- FR-6: На странице профиля отображается список всех привязанных OAuth аккаунтов
- FR-7: Для каждого OAuth показывается: провайдер (Google/Telegram), email/username, дата привязки
- FR-8: Пользователь может добавить новый OAuth провайдер
- FR-9: Пользователь может удалить OAuth провайдер (но не последний)
- FR-10: При попытке удалить последний OAuth показывается предупреждение
- FR-11: После добавления OAuth обновляется список без перезагрузки страницы

### Настройки приватности

- FR-12: Пользователь может выбрать режим профиля: "Публичный" или "Приватный"
- FR-13: В публичном режиме: показывается маскированный email в комментариях
- FR-14: В приватном режиме: комментарии анонимны (без email)
- FR-15: Пользователь может посмотреть предпросмотр публичного профиля
- FR-16: Настройки сохраняются немедленно при изменении

### Маскировка email

- FR-17: Система маскирует email по формату: `x*****@g****.***`
- FR-18: Первая буква имени пользователя + звездочки
- FR-19: Первая буква домена + звездочки + расширение
- FR-20: Примеры:
  - `user@gmail.com` → `u*****@g****.**m`
  - `admin@example.org` → `a*****@e****.*rg`

### Предпросмотр публичного профиля

- FR-21: Кнопка "Предпросмотр" на странице профиля
- FR-22: Открывается модальное окно с тем, как видят профиль другие
- FR-23: Показывается маскированный email (если публичный режим)
- FR-24: Показывается "Анонимный пользователь" (если приватный режим)

## 2.2 Нефункциональные требования

- NFR-1: **UX:** Форма профиля должна быть простой и интуитивной
- NFR-2: **Производительность:** Загрузка профиля < 300ms
- NFR-3: **Безопасность:** Нельзя удалить последний OAuth (пользователь не потеряет доступ)
- NFR-4: **Валидация:** Имя пользователя 2-100 символов
- NFR-5: **Обратная связь:** Успешные операции показывают toast уведомления

## 2.3 Scope

### ✅ Включено

- Страница профиля (`/profile`)
- Управление OAuth привязками
- Настройки приватности
- Маскировка email
- Предпросмотр публичного профиля

### ❌ НЕ включено (будет позже)

- Смена email (требует верификации)
- Смена пароля (требует email/password auth)
- Загрузка собственного аватара (используется из OAuth)
- Двухфакторная аутентификация
- История активности
- Система уведомлений

---

**Предыдущая секция:** [← 1. Обзор](01-overview.md)  
**Следующая секция:** [3. Архитектура →](03-architecture.md)
